<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DA Pagamento</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">

</head>
<body>

  <div class="container py-5">
    <div class="payment-card">
      <h2>Finalizar Pagamento</h2>

      <form id="formPagamento">
        
        <div class="mb-3">
          <label for="nomeTitular" class="form-label">Nome no Cart√£o</label>
          <input type="text" id="nomeTitular" class="form-control" placeholder="Ex: Jo√£o Silva" required>
        </div>

        <div class="mb-3">
          <label for="numeroCartao" class="form-label">N√∫mero do Cart√£o</label>
          <input type="text" id="numeroCartao" class="form-control" maxlength="19" placeholder="0000 0000 0000 0000" required>
        </div>

        <div class="row">
          <div class="col-6 mb-3">
            <label for="validade" class="form-label">Validade</label>
            <input type="text" id="validade" class="form-control" placeholder="MM/AA" maxlength="5" required>
          </div>
          <div class="col-6 mb-3">
            <label for="cvv" class="form-label">CVV</label>
            <input type="text" id="cvv" class="form-control" maxlength="4" placeholder="123" required>
          </div>
        </div>

        <div class="mb-3">
          <label for="parcelas" class="form-label">N√∫mero de Parcelas</label>
          <select id="parcelas" class="form-select" required>
            <option value="">Selecione</option>
            <option>√Ä Vista</option>
            <option>12x sem juros</option>
            <option>24x sem juros</option>
            <option>36x sem juros</option>
            <option>48x com juros</option>
          </select>
        </div>

        <div class="valor-final-box mb-3">
          <span>Valor Final:</span>
          <strong id="valorFinal">R$ 0,00</strong>
        </div>

        <button type="submit" class="btn-pagar">Pagar Agora</button>
        <button type="button" class="btn-voltar" onclick="window.location.href='../carrinho/index.html'">‚Üê Voltar ao Carrinho</button>

      </form>
    </div>

    <footer class="mt-5">
      <p>¬© 2025 Don Auto. Todos os direitos reservados.</p>
    </footer>
  </div>

  <script>
    const valor = localStorage.getItem("valorFinal");

    if (valor) {
      document.getElementById("valorFinal").textContent =
        "R$ " + Number(valor).toLocaleString("pt-BR", {
          minimumFractionDigits: 2,
          maximumFractionDigits: 2
        });
    }

    const form = document.getElementById("formPagamento");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      alert("Pagamento realizado com sucesso! üí∏");

      localStorage.removeItem("configuracoesCarros");
      localStorage.removeItem("valorFinal");

      window.location.href = "../pagina%20principal/index.html";
    });
  </script>

</body>
</html>
